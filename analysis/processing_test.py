#!/usr/bin/env python3
# -*- coding: utf-8 -*

import sys

sys.path.append("/Users/houben/PhD/python/scripts/spectral_analysis/")

from processing import cut

# import pytest


def test_cut():
    input = [
        [
            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            5,
            "before",
        ],
        [
            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            5,
            "after",
        ],
        [
            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            3.4,
            "before",
        ],
        [
            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            3.4,
            "after",
        ],
        [
            [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            5,
            "before",
        ],
        [
            [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            5,
            "after",
        ],
        [
            [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            3.4,
            "before",
        ],
        [
            [10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
            [32, 4, 45, 12, 546, 234, 456, 423, 234, 456],
            3.4,
            "after",
        ],
    ]
    output = [
        ([1, 2, 3, 4, 5], [32, 4, 45, 12, 546]),
        ([6, 7, 8, 9, 10], [234, 456, 423, 234, 456]),
        ([1, 2, 3], [32, 4, 45]),
        ([4, 5, 6, 7, 8, 9, 10], [12, 546, 234, 456, 423, 234, 456]),
        ([10, 9, 8, 7, 6, 5], [32, 4, 45, 12, 546, 234]),
        ([4, 3, 2, 1], [456, 423, 234, 456]),
        ([10, 9, 8, 7, 6, 5, 4], [32, 4, 45, 12, 546, 234, 456]),
        ([3, 2, 1], [423, 234, 456]),
    ]
    index = 0
    for x, y, threshold, keep in input:
        assert cut(x, y, threshold, keep) == output[index]
        print("Testing input: ", x, y)
        print("Testing output: ", output[index])
        index = index + 1


if __name__ == "__main__":
    test_cut()
